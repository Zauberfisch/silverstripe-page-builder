{"version":3,"sources":["webpack:///webpack/bootstrap 121c14b8b02067c43a4d","webpack:///./client/src/boot/index.js","webpack:///./client/src/bundles/bundle.js","webpack:///./client/src/components/PageBuilderField.js","webpack:///./client/src/components/editor/RenderNode.js","webpack:///./client/src/components/editor/SettingsPanel.js","webpack:///./client/src/components/editor/Toolbox.js","webpack:///./client/src/components/editor/Topbar.js","webpack:///./client/src/components/user/Button.js","webpack:///./client/src/components/user/Container.js","webpack:///./client/src/components/user/Text.js","webpack:///./client/src/legacy/entwine.js","webpack:///./~/dialog-polyfill/dist/dialog-polyfill.esm.js","webpack:///external \"React\"","webpack:///external \"CraftJsCore\"","webpack:///external \"Injector\"","webpack:///external \"ReactDom\"","webpack:///external \"CraftJsUtils\"","webpack:///external \"jQuery\""],"names":["window","document","addEventListener","Injector","component","registerMany","PageBuilderField","require","Button","Text","Container","RenderNode","display","paddingTop","Component","render","id","state","isActive","nodes","events","selected","actions","query","isHover","node","hovered","dom","name","data","custom","displayName","moveable","isDraggable","deletable","isDeletable","parent","props","drag","connectors","currentRef","classList","add","remove","getPos","_dom","getBoundingClientRect","top","left","bottom","scroll","currentDOM","current","style","el","querySelector","removeEventListener","ReactDOM","createPortal","zIndex","ROOT_NODE","selectNode","e","stopPropagation","delete","SettingsPanel","currentNodeId","currentNodes","size","Error","_selected","settings","related","isEnabled","options","enabled","marginTop","padding","background","flexDirection","margin","React","createElement","Toolbox","alignItems","justifyItems","ref","create","Topbar","_query","canUndo","history","canRedo","stateToLoad","setStateToLoad","refDialog","createRef","handleStateLoad","useCallback","target","returnValue","json","deserialize","alert","useEffect","dialogPolyfill","registerDialog","marginRight","undo","redo","serialize","preventDefault","showModal","value","variant","color","text","connect","ButtonSettings","setProp","_props","ButtonDefaultProps","craft","children","ContainerSettings","ContainerDefaultProps","fontSize","textAlign","dragged","editable","position","val","replace","TextSettings","TextDefaultProps","jQuery","entwine","$","onmatch","onunmatch","unmountComponentAtNode"],"mappings":"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Y,QAAQ;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW,2BAA2B;AACtC,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,8DAA8D;AAC9D;;AAEA;AACA;AACA;AACA;AACA;AACA,mBAAmB,kBAAkB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,QAAQ;AACnB,YAAY,QAAQ;AACpB;AACA;AACA;AACA;;AAEA;AACA,WAAW,OAAO;AAClB,YAAY;AACZ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA,wBAAwB,iBAAiB;;AAEzC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA,WAAW,mBAAmB;AAC9B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,wBAAwB,4CAA4C;AACpE,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,iCAAiC,QAAQ,EAAE;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;;AAEA,0CAA0C,4BAA4B;;AAEtE;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA,yEAAyE,QAAQ;AACjF;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,6BAA6B,QAAQ;AACrC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;;AAEH;AACA,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,4BAA4B;AAC5B;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA,CAAC;;AAED;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,iBAAiB,iCAAiC;AAClD;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,oBAAoB,UAAU;AAC9B,mBAAmB,qBAAqB;AACxC;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,mBAAmB;AACvD;;AAEA;AACA,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,4BAA4B;AACzC;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,GAAG;;AAEH;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,0BAA0B,yBAAyB;AACnD;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,+BAA+B;AACzE;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,sBAAsB,kCAAkC;AACxD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA,WAAW,QAAQ;AACnB,YAAY,QAAQ;AACpB;AACA;AACA;AACA,wBAAwB,kCAAkC;AAC1D;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,2CAA2C,QAAQ;;AAEnD,4DAA4D,QAAQ;;AAEpE;AACA;AACA,sBAAsB,QAAQ;;AAE9B,uCAAuC,QAAQ,EAAE;;AAEjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,2BAA2B;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,GAAG;AACH;;AAEA;AACA,WAAW,oBAAoB;AAC/B,YAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW,oBAAoB;AAC/B;AACA;AACA;AACA,qBAAqB,QAAQ;;AAE7B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,YAAY;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,QAAQ,EAAE;;AAExC,4BAA4B,QAAQ;AACpC;AACA;AACA;AACA;AACA,sDAAsD,QAAQ;;AAE9D;AACA;AACA,uEAAuE,QAAQ;AAC/E;AACA;AACA;;AAEA;AACA,kBAAkB,QAAQ;;AAE1B;;AAEA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEe,6EAAc,EAAC;;;;;;;;ACz1B9B,uB;;;;;;;ACAA,6B;;;;;;;ACAA,0B;;;;;;;ACAA,0B;;;;;;;ACAA,8B;;;;;;;ACAA,wB","file":"js/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./client/src/bundles/bundle.js\");\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 121c14b8b02067c43a4d","/* global window */\nimport Injector from \"lib/Injector\"\nimport PageBuilderField from \"../components/PageBuilderField\"\n\nwindow.document.addEventListener(\"DOMContentLoaded\", () => {\n\tInjector.component.registerMany({\n\t\tPageBuilderField,\n\t})\n})\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/boot/index.js","// Include any legacy Entwine wrappers\nrequire(\"legacy/entwine\")\n\n// Include boot entrypoint\nrequire(\"boot\")\n\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/bundles/bundle.js","// import fieldHolder from \"components/FieldHolder/FieldHolder\"\n// import Injector from \"lib/Injector\"\n// import fetch from \"isomorphic-fetch\"\n// import url from \"url\"\n// import debounce from \"debounce-promise\"\n// import PropTypes from \"prop-types\"\n\nimport React from \"react\"\nimport {Editor, Frame, Element} from \"@craftjs/core\"\n\nimport {SettingsPanel} from \"./editor/SettingsPanel\"\nimport {Toolbox} from \"./editor/Toolbox\"\nimport {Topbar} from \"./editor/Topbar\"\nimport {Button} from \"./user/Button\"\n// import {Card, CardBottom, CardTop} from \"./user/Card\"\nimport {Container} from \"./user/Container\"\nimport {Text} from \"./user/Text\"\nimport {RenderNode} from \"./editor/RenderNode\"\n\n\nfunction PageBuilderField() {\n\t// const FooComponent = Injector.component.get(\"Foo\")\n\treturn (\n\t\t<div className=\"page-container\">\n\t\t\t<Editor\n\t\t\t\tresolver={{\n\t\t\t\t\t// Card,\n\t\t\t\t\t// CardTop,\n\t\t\t\t\t// CardBottom,\n\t\t\t\t\tButton,\n\t\t\t\t\tText,\n\t\t\t\t\tContainer,\n\t\t\t\t\t// FooComponent,\n\t\t\t\t}}\n\t\t\t\tonRender={RenderNode}\n\t\t\t>\n\t\t\t\t<Topbar />\n\t\t\t\t<Frame>\n\t\t\t\t\t{/*<Element canvas is={Container} padding={15} background=\"red\" />*/}\n\t\t\t\t\t<Element\n\t\t\t\t\t\tcanvas\n\t\t\t\t\t\tis={Container}\n\t\t\t\t\t\tpadding={5}\n\t\t\t\t\t\tbackground=\"#eeeeee\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{/*<FooComponent />*/}\n\t\t\t\t\t\t<Text fontSize={20} text=\"test\" data-cy=\"frame-text\" />\n\t\t\t\t\t\t{/*<Card data-cy=\"frame-card\" />*/}\n\t\t\t\t\t\t{/*<Button text=\"Click me\" size=\"small\" data-cy=\"frame-button\" />*/}\n\t\t\t\t\t\t{/*<Text fontSize={20} text=\"Hi world!\" data-cy=\"frame-text\" />*/}\n\t\t\t\t\t\t{/*<Element*/}\n\t\t\t\t\t\t{/*    canvas*/}\n\t\t\t\t\t\t{/*    is={Container}*/}\n\t\t\t\t\t\t{/*    padding={6}*/}\n\t\t\t\t\t\t{/*    background=\"#999999\"*/}\n\t\t\t\t\t\t{/*    data-cy=\"frame-container\"*/}\n\t\t\t\t\t\t{/*>*/}\n\t\t\t\t\t\t{/*    <Text*/}\n\t\t\t\t\t\t{/*        size=\"small\"*/}\n\t\t\t\t\t\t{/*        text=\"It's me again!\"*/}\n\t\t\t\t\t\t{/*        data-cy=\"frame-container-text\"*/}\n\t\t\t\t\t\t{/*    />*/}\n\t\t\t\t\t\t{/*</Element>*/}\n\t\t\t\t\t</Element>\n\t\t\t\t</Frame>\n\t\t\t\t<div style={{display: \"flex\"}}>\n\t\t\t\t\t<div style={{paddingTop: \"10px\"}}>\n\t\t\t\t\t\t<Toolbox />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div style={{paddingTop: \"10px\"}}>\n\t\t\t\t\t\t<SettingsPanel />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</Editor>\n\t\t</div>\n\t)\n}\n\nexport {PageBuilderField as Component}\nexport default PageBuilderField\n// export default fieldHolder(PageBuilderField)\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/components/PageBuilderField.js","import {useNode, useEditor} from \"@craftjs/core\"\nimport {ROOT_NODE} from \"@craftjs/utils\"\nimport React, {useEffect, useRef, useCallback} from \"react\"\nimport ReactDOM from \"react-dom\"\n\nexport const RenderNode = ({render}) => {\n\tconst {id} = useNode()\n\tconst {actions, query, isActive} = useEditor((state) => ({\n\t\tisActive: state.nodes[id] && state.nodes[id].events.selected,\n\t}))\n\n\tconst isHover = false\n\tconst {\n\t\t// isHover,\n\t\tdom,\n\t\tname,\n\t\tmoveable,\n\t\tdeletable,\n\t\tconnectors: {drag},\n\t\tparent,\n\t} = useNode((node) => ({\n\t\tisHover: node.events.hovered,\n\t\tdom: node.dom,\n\t\tname: node.data.custom.displayName || node.data.displayName,\n\t\tmoveable: query.node(node.id).isDraggable(),\n\t\tdeletable: query.node(node.id).isDeletable(),\n\t\tparent: node.data.parent,\n\t\tprops: node.data.props,\n\t}))\n\n\tconst currentRef = useRef()\n\n\tuseEffect(() => {\n\t\tif (dom) {\n\t\t\tif (isActive || isHover) dom.classList.add(\"todo-component-selected\")\n\t\t\telse dom.classList.remove(\"todo-component-selected\")\n\t\t}\n\t}, [dom, isActive, isHover])\n\n\tconst getPos = useCallback((_dom) => {\n\t\tconst {top, left, bottom} = _dom\n\t\t\t? _dom.getBoundingClientRect()\n\t\t\t: {top: 0, left: 0, bottom: 0}\n\t\treturn {\n\t\t\ttop: `${top > 0 ? top : bottom}px`,\n\t\t\tleft: `${left}px`,\n\t\t}\n\t}, [])\n\n\tconst scroll = useCallback(() => {\n\t\tconst {current: currentDOM} = currentRef\n\n\t\tif (!currentDOM) return\n\t\tconst {top, left} = getPos(dom)\n\t\tcurrentDOM.style.top = top\n\t\tcurrentDOM.style.left = left\n\t}, [dom, getPos])\n\n\tuseEffect(() => {\n\t\tconst el = document.querySelector(\".cms .cms-content-fields\")\n\t\tel.addEventListener(\"scroll\", scroll)\n\n\t\treturn () => {\n\t\t\tel.removeEventListener(\"scroll\", scroll)\n\t\t}\n\t}, [scroll])\n\n\treturn (\n\t\t<React.Fragment>\n\t\t\t{isHover || isActive\n\t\t\t\t? ReactDOM.createPortal(\n\t\t\t\t\t<div\n\t\t\t\t\t\tref={currentRef}\n\t\t\t\t\t\tclassName=\"todo-IndicatorDiv\"\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tleft: getPos(dom).left,\n\t\t\t\t\t\t\ttop: getPos(dom).top,\n\t\t\t\t\t\t\tzIndex: 9999,\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<h2>{name}</h2>\n\t\t\t\t\t\t{moveable ? (\n\t\t\t\t\t\t\t<a ref={drag}>Move</a>\n\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t{id !== ROOT_NODE && (\n\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\trole=\"button\"\n\t\t\t\t\t\t\t\ttabIndex={0}\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tactions.selectNode(parent)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>Go Up</a>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{deletable ? (\n\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\trole=\"button\"\n\t\t\t\t\t\t\t\ttabIndex={0}\n\t\t\t\t\t\t\t\tonMouseDown={(e) => {\n\t\t\t\t\t\t\t\t\te.stopPropagation()\n\t\t\t\t\t\t\t\t\tactions.delete(id)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{/*<Delete />*/}\n\t\t\t\t\t\t\t\tDelete\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t) : null}\n\t\t\t\t\t</div>,\n\t\t\t\t\tdocument.querySelector(\".page-container\"),\n\t\t\t\t)\n\t\t\t\t: null}\n\t\t\t{render}\n\t\t</React.Fragment>\n\t)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/components/editor/RenderNode.js","import {useEditor} from \"@craftjs/core\"\nimport React from \"react\"\n\nexport const SettingsPanel = () => {\n\t// actions\n\tconst {selected, isEnabled} = useEditor((state, query) => {\n\t\tlet currentNodeId\n\t\tconst currentNodes = state.events.selected\n\t\tif (currentNodes.size > 1) {\n\t\t\tthrow new Error(\"ERROR: cannot handle selection of multiple nodes\")\n\t\t} else if (currentNodes.size === 1) {\n\t\t\t// console.log(, 'values')\n\t\t\tcurrentNodeId = [...currentNodes][0]\n\t\t}\n\t\t// console.log({\n\t\t//     currentNodeId,\n\t\t//     size: currentNodeId.size,\n\t\t//     length: currentNodeId.length,\n\t\t//     \"0\": currentNodeId[0],\n\t\t//     \"v0\": currentNodeId.values()[0],\n\t\t// })\n\t\tlet _selected\n\n\t\tif (currentNodeId) {\n\t\t\t_selected = {\n\t\t\t\tid: currentNodeId,\n\t\t\t\tname: state.nodes[currentNodeId].data.name,\n\t\t\t\tsettings:\n\t\t\t\t\tstate.nodes[currentNodeId].related &&\n\t\t\t\t\tstate.nodes[currentNodeId].related.settings,\n\t\t\t\tisDeletable: query.node(currentNodeId).isDeletable(),\n\t\t\t}\n\t\t}\n\n\t\treturn {\n\t\t\tselected: _selected,\n\t\t\tisEnabled: state.options.enabled,\n\t\t}\n\t})\n\n\treturn isEnabled && selected ? (\n\t\t<div style={{marginTop: 2, padding: 2, background: \"rgba(0, 0, 0, 0.06)\"}}>\n\t\t\t<div style={{display: \"flex\", flexDirection: \"column\"}}>\n\t\t\t\t<div style={{background: \"yellow\", padding: 2, margin: 5}}>\n\t\t\t\t\tSelected: {selected.name}\n\t\t\t\t</div>\n\t\t\t\t<div style={{background: \"yellow\", padding: 2, margin: 5}}>\n\t\t\t\t\t{selected.settings && React.createElement(selected.settings)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t) : null\n}\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/components/editor/SettingsPanel.js","import {useEditor, Element} from \"@craftjs/core\"\nimport React from \"react\"\n\nimport {Button} from \"../user/Button\"\nimport {Container} from \"../user/Container\"\nimport {Text} from \"../user/Text\"\n\nexport const Toolbox = () => {\n\tconst {connectors} = useEditor()\n\n\treturn (\n\t\t<div style={{padding: 2, background: \"green\"}}>\n\t\t\t<div style={{display: \"flex\", flexDirection: \"column\", alignItems: \"center\", justifyItems: \"center\"}}>\n\t\t\t\t<div>\n\t\t\t\t\t<button\n\t\t\t\t\t\tref={(ref) => connectors.create(ref, <Button text=\"Click me\" size=\"small\" />)}\n\t\t\t\t\t>\n\t\t\t\t\t\tButton\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<button\n\t\t\t\t\t\tref={(ref) => connectors.create(ref, <Text text=\"Hi world\" />)}\n\t\t\t\t\t>\n\t\t\t\t\t\tText\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<button\n\t\t\t\t\t\tref={(ref) => connectors.create(ref, <Element canvas is={Container} padding={20} />)}\n\t\t\t\t\t>\n\t\t\t\t\t\tContainer\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/components/editor/Toolbox.js","import {useEditor} from \"@craftjs/core\"\n// import copy from 'copy-to-clipboard';\n// import lz from 'lzutf8';\nimport React, {useState} from \"react\"\nimport dialogPolyfill from \"dialog-polyfill\"\n\nexport const Topbar = () => {\n\t// enabled,\n\tconst {actions, query, canUndo, canRedo} = useEditor(\n\t\t(state, _query) => ({\n\t\t\tenabled: state.options.enabled,\n\t\t\tcanUndo: state.options.enabled && _query.history.canUndo(),\n\t\t\tcanRedo: state.options.enabled && _query.history.canRedo(),\n\t\t}),\n\t)\n\tconst [stateToLoad, setStateToLoad] = useState(\"\")\n\tconst refDialog = React.createRef()\n\tconst handleStateLoad = React.useCallback((e) => {\n\t\tif (e.target.returnValue === \"submit\") {\n\t\t\t// const json = lz.decompress(lz.decodeBase64(stateToLoad));\n\t\t\tconst json = stateToLoad\n\t\t\tactions.deserialize(json)\n\t\t\t// eslint-disable-next-line no-alert\n\t\t\talert(\"State loaded\")\n\t\t} else {\n\t\t\t// eslint-disable-next-line no-alert\n\t\t\talert(\"canceled\")\n\t\t}\n\t}, [])\n\tReact.useEffect(() => {\n\t\trefDialog.current.addEventListener(\"close\", handleStateLoad)\n\t\tdialogPolyfill.registerDialog(refDialog.current)\n\n\t\treturn () => {\n\t\t\trefDialog.current.removeEventListener(\"close\", handleStateLoad)\n\t\t}\n\t}, [])\n\treturn (\n\t\t<div style={{padding: 1, margin: \"3px 0 1px\", background: \"#cbe8e7\"}}>\n\t\t\t<div style={{display: \"flex\", alignItems: \"center\"}}>\n\t\t\t\t<button style={{marginRight: \"10px\"}} disabled={!canUndo} onClick={() => actions.history.undo()}>Undo</button>\n\t\t\t\t<button style={{marginRight: \"10px\"}} disabled={!canRedo} onClick={() => actions.history.redo()}>Redo</button>\n\t\t\t\t<button\n\t\t\t\t\tstyle={{marginRight: \"10px\"}}\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tconst json = query.serialize()\n\t\t\t\t\t\t/* copy(lz.encodeBase64(lz.compress(json)));*/\n\t\t\t\t\t\t// eslint-disable-next-line no-alert\n\t\t\t\t\t\talert(json)\n\t\t\t\t\t\t// alert(\"State copied to clipboard\")\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\tCopy current state\n\t\t\t\t</button>\n\t\t\t\t<button\n\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\trefDialog.current.showModal()\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\tLoad state\n\t\t\t\t</button>\n\t\t\t\t<dialog ref={refDialog}>\n\t\t\t\t\t<form method=\"dialog\">\n\t\t\t\t\t\t<textarea name=\"content\" value={stateToLoad} onChange={(e) => setStateToLoad(e.target.value)} />\n\t\t\t\t\t\t<button name=\"cancel\" value=\"cancel\">cancel</button>\n\t\t\t\t\t\t<button name=\"submit\" value=\"submit\">submit</button>\n\t\t\t\t\t</form>\n\t\t\t\t</dialog>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/components/editor/Topbar.js","import {useNode} from \"@craftjs/core\"\nimport React from \"react\"\n\nexport const Button = ({size, variant, color, text, ...props}) => {\n\tconst {\n\t\tconnectors: {connect},\n\t} = useNode()\n\treturn (\n\t\t<button\n\t\t\tref={(ref) => connect(ref)}\n\t\t\tstyle={{margin: \"5px\"}}\n\t\t\t// size={size}\n\t\t\t// variant={variant}\n\t\t\tcolor={color}\n\t\t\t{...props}\n\t\t>\n\t\t\t{text} (size: {size}, variant: {variant})\n\t\t</button>\n\t)\n}\n\nexport const ButtonSettings = () => {\n\tconst {\n\t\tactions: {setProp},\n\t\tprops,\n\t} = useNode((node) => ({\n\t\tprops: node.data.props,\n\t}))\n\n\treturn (\n\t\t<div>\n\t\t\t<fieldset>\n\t\t\t\t<legend>Size</legend>\n\t\t\t\t<select\n\t\t\t\t\tvalue={props.size}\n\t\t\t\t\tonChange={(e) => setProp((_props) => {\n\t\t\t\t\t\t// eslint-disable-next-line no-param-reassign\n\t\t\t\t\t\t_props.size = e.target.value\n\t\t\t\t\t})}\n\t\t\t\t>\n\t\t\t\t\t<option value=\"small\">Small</option>\n\t\t\t\t\t<option value=\"medium\">Medium</option>\n\t\t\t\t\t<option value=\"large\">Large</option>\n\t\t\t\t</select>\n\t\t\t</fieldset>\n\t\t\t<fieldset>\n\t\t\t\t<legend>Variant</legend>\n\t\t\t\t<select\n\t\t\t\t\tvalue={props.variant}\n\t\t\t\t\tonChange={(e) => setProp((_props) => {\n\t\t\t\t\t\t// eslint-disable-next-line no-param-reassign\n\t\t\t\t\t\t_props.variant = e.target.value\n\t\t\t\t\t})}\n\t\t\t\t>\n\t\t\t\t\t<option value=\"text\">Text</option>\n\t\t\t\t\t<option value=\"outlined\">Outlined</option>\n\t\t\t\t\t<option value=\"contained\">Contained</option>\n\t\t\t\t</select>\n\t\t\t</fieldset>\n\t\t\t<fieldset>\n\t\t\t\t<legend>Color</legend>\n\t\t\t\t<select\n\t\t\t\t\tvalue={props.color}\n\t\t\t\t\tonChange={(e) => setProp((_props) => {\n\t\t\t\t\t\t// eslint-disable-next-line no-param-reassign\n\t\t\t\t\t\t_props.color = e.target.value\n\t\t\t\t\t})}\n\t\t\t\t>\n\t\t\t\t\t<option value=\"default\">Default</option>\n\t\t\t\t\t<option value=\"primary\">Primary</option>\n\t\t\t\t\t<option value=\"secondary\">Secondary</option>\n\t\t\t\t</select>\n\t\t\t</fieldset>\n\t\t</div>\n\t)\n}\n\nexport const ButtonDefaultProps = {\n\tsize: \"small\",\n\tvariant: \"contained\",\n\tcolor: \"primary\",\n\ttext: \"Click me\",\n}\n\nButton.craft = {\n\tprops: ButtonDefaultProps,\n\trelated: {\n\t\tsettings: ButtonSettings,\n\t},\n}\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/components/user/Button.js","import {useNode} from \"@craftjs/core\"\nimport React from \"react\"\n\nexport const Container = ({background, padding, children, ...props}) => {\n\tconst {\n\t\tconnectors: {connect},\n\t} = useNode()\n\treturn (\n\t\t<div {...props} ref={(ref) => connect(ref)} style={{margin: \"15px 0\", background, padding: `${padding}px`}}>\n\t\t\t{children}\n\t\t</div>\n\t)\n}\n\nexport const ContainerSettings = () => {\n\treturn <div>Settings TODO</div>\n\t// const {\n\t//   background,\n\t//   padding,\n\t//   actions: { setProp },\n\t// } = useNode((node) => ({\n\t//   background: node.data.props.background,\n\t//   padding: node.data.props.padding,\n\t// }));\n\t//\n\t// return (\n\t//   <div>\n\t//     <FormControl fullWidth={true} margin=\"normal\" component=\"fieldset\">\n\t//       <FormLabel component=\"legend\">Background</FormLabel>\n\t//       <ColorPicker\n\t//         name=\"background-color\"\n\t//         value={background}\n\t//         onChange={(color) => {\n\t//           setProp((props) => (props.background = color), 500);\n\t//         }}\n\t//       />\n\t//     </FormControl>\n\t//     <FormControl fullWidth={true} margin=\"normal\" component=\"fieldset\">\n\t//       <FormLabel component=\"legend\">Padding</FormLabel>\n\t//       <Slider\n\t//         defaultValue={padding}\n\t//         onChange={(_, value) =>\n\t//           setProp((props) => (props.padding = value), 500)\n\t//         }\n\t//       />\n\t//     </FormControl>\n\t//   </div>\n\t// );\n}\n\nexport const ContainerDefaultProps = {\n\tbackground: \"#ffffff\",\n\tpadding: 15,\n}\n\nContainer.craft = {\n\tprops: ContainerDefaultProps,\n\trelated: {\n\t\tsettings: ContainerSettings,\n\t},\n}\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/components/user/Container.js","import {useNode} from \"@craftjs/core\"\nimport React from \"react\"\n\n\nexport const Text = ({text, fontSize, textAlign, ...props}) => {\n\tconst {\n\t\tconnectors: {connect},\n\t\t// selected,\n\t\t// dragged,\n\t\tactions: {setProp},\n\t} = useNode((state) => ({\n\t\tselected: state.events.selected,\n\t\tdragged: state.events.dragged,\n\t}))\n\n\tconst editable = true\n\t// const [editable, setEditable] = useState(false)\n\t//\n\t// useEffect(() => {\n\t//     if (selected) {\n\t//         return\n\t//     }\n\t//\n\t//     setEditable(false)\n\t// }, [selected])\n\n\t//onClick={() => selected && setEditable(true)}\n\treturn (\n\t\t<div {...props} ref={(ref) => connect(ref)} style={{position: \"relative\"}}>\n\t\t\t<textarea\n\t\t\t\tvalue={text}\n\t\t\t\tdisabled={!editable}\n\t\t\t\tstyle={{fontSize: `${fontSize}px`, textAlign}}\n\t\t\t\tonChange={(e) => {\n\t\t\t\t\tconst val = e.target.value.replace(/<\\/?[^>]+(>|$)/g, \"\")\n\t\t\t\t\tsetProp((_props) => {\n\t\t\t\t\t\t// eslint-disable-next-line no-param-reassign\n\t\t\t\t\t\t_props.text = val\n\t\t\t\t\t}, 500)\n\t\t\t\t}}\n\t\t\t/>\n\t\t\t{/*<ContentEditable*/}\n\t\t\t{/*    html={text}*/}\n\t\t\t{/*    disabled={!editable}*/}\n\t\t\t{/*    onChange={(e) =>*/}\n\t\t\t{/*        setProp(*/}\n\t\t\t{/*            (props) =>*/}\n\t\t\t{/*                (props.text = e.target.value.replace(/<\\/?[^>]+(>|$)/g, \"\")),*/}\n\t\t\t{/*            500,*/}\n\t\t\t{/*        )*/}\n\t\t\t{/*    }*/}\n\t\t\t{/*    tagName=\"p\"*/}\n\t\t\t{/*    style={{fontSize: `${fontSize}px`, textAlign}}*/}\n\t\t\t{/*/>*/}\n\t\t</div>\n\t)\n}\n\nconst TextSettings = () => {\n\t// const {\n\t//     actions: {setProp},\n\t//     fontSize,\n\t// } = useNode((node) => ({\n\t//     text: node.data.props.text,\n\t//     fontSize: node.data.props.fontSize,\n\t// }))\n\t//\n\t// return (\n\t//     <React.Fragment>\n\t//         <FormControl size=\"small\" component=\"fieldset\">\n\t//             <FormLabel component=\"legend\">Font size</FormLabel>\n\t//             <Slider\n\t//                 value={fontSize || 7}\n\t//                 step={7}\n\t//                 min={1}\n\t//                 max={50}\n\t//                 onChange={(_, value) => {\n\t//                     setProp((props) => (props.fontSize = value), 1000)\n\t//                 }}\n\t//             />\n\t//         </FormControl>\n\t//     </React.Fragment>\n\t// )\n\treturn <div />\n}\n\nexport const TextDefaultProps = {\n\ttext: \"Hi\",\n\tfontSize: 20,\n}\n\nText.craft = {\n\tprops: TextDefaultProps,\n\trelated: {\n\t\tsettings: TextSettings,\n\t},\n}\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/components/user/Text.js","import jQuery from \"jquery\"\nimport React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport {loadComponent} from \"lib/Injector\"\n\njQuery.entwine(\"ss\", ($) => {\n\t$(\".js-injector-boot .form__field-holder .zauberfisch__page-builder__field\").entwine({\n\t\tonmatch() {\n\t\t\tconst PageBuilderField = loadComponent(\"PageBuilderField\")\n\t\t\t// const schemaData = this.data(\"schema\")\n\n\t\t\tconst props = {\n\t\t\t\t// source: schemaData.source,\n\t\t\t\t// value: schemaData.value,\n\t\t\t\t// name: schemaData.name,\n\t\t\t}\n\n\t\t\tReactDOM.render(\n\t\t\t\t<PageBuilderField {...props} />,\n\t\t\t\tthis[0],\n\t\t\t)\n\t\t},\n\n\t\tonunmatch() {\n\t\t\tReactDOM.unmountComponentAtNode(this[0])\n\t\t},\n\t})\n})\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/legacy/entwine.js","// nb. This is for IE10 and lower _only_.\nvar supportCustomEvent = window.CustomEvent;\nif (!supportCustomEvent || typeof supportCustomEvent === 'object') {\n  supportCustomEvent = function CustomEvent(event, x) {\n    x = x || {};\n    var ev = document.createEvent('CustomEvent');\n    ev.initCustomEvent(event, !!x.bubbles, !!x.cancelable, x.detail || null);\n    return ev;\n  };\n  supportCustomEvent.prototype = window.Event.prototype;\n}\n\n/**\n * Dispatches the passed event to both an \"on<type>\" handler as well as via the\n * normal dispatch operation. Does not bubble.\n *\n * @param {!EventTarget} target\n * @param {!Event} event\n * @return {boolean}\n */\nfunction safeDispatchEvent(target, event) {\n  var check = 'on' + event.type.toLowerCase();\n  if (typeof target[check] === 'function') {\n    target[check](event);\n  }\n  return target.dispatchEvent(event);\n}\n\n/**\n * @param {Element} el to check for stacking context\n * @return {boolean} whether this el or its parents creates a stacking context\n */\nfunction createsStackingContext(el) {\n  while (el && el !== document.body) {\n    var s = window.getComputedStyle(el);\n    var invalid = function(k, ok) {\n      return !(s[k] === undefined || s[k] === ok);\n    };\n\n    if (s.opacity < 1 ||\n        invalid('zIndex', 'auto') ||\n        invalid('transform', 'none') ||\n        invalid('mixBlendMode', 'normal') ||\n        invalid('filter', 'none') ||\n        invalid('perspective', 'none') ||\n        s['isolation'] === 'isolate' ||\n        s.position === 'fixed' ||\n        s.webkitOverflowScrolling === 'touch') {\n      return true;\n    }\n    el = el.parentElement;\n  }\n  return false;\n}\n\n/**\n * Finds the nearest <dialog> from the passed element.\n *\n * @param {Element} el to search from\n * @return {HTMLDialogElement} dialog found\n */\nfunction findNearestDialog(el) {\n  while (el) {\n    if (el.localName === 'dialog') {\n      return /** @type {HTMLDialogElement} */ (el);\n    }\n    if (el.parentElement) {\n      el = el.parentElement;\n    } else if (el.parentNode) {\n      el = el.parentNode.host;\n    } else {\n      el = null;\n    }\n  }\n  return null;\n}\n\n/**\n * Blur the specified element, as long as it's not the HTML body element.\n * This works around an IE9/10 bug - blurring the body causes Windows to\n * blur the whole application.\n *\n * @param {Element} el to blur\n */\nfunction safeBlur(el) {\n  // Find the actual focused element when the active element is inside a shadow root\n  while (el && el.shadowRoot && el.shadowRoot.activeElement) {\n    el = el.shadowRoot.activeElement;\n  }\n\n  if (el && el.blur && el !== document.body) {\n    el.blur();\n  }\n}\n\n/**\n * @param {!NodeList} nodeList to search\n * @param {Node} node to find\n * @return {boolean} whether node is inside nodeList\n */\nfunction inNodeList(nodeList, node) {\n  for (var i = 0; i < nodeList.length; ++i) {\n    if (nodeList[i] === node) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * @param {HTMLFormElement} el to check\n * @return {boolean} whether this form has method=\"dialog\"\n */\nfunction isFormMethodDialog(el) {\n  if (!el || !el.hasAttribute('method')) {\n    return false;\n  }\n  return el.getAttribute('method').toLowerCase() === 'dialog';\n}\n\n/**\n * @param {!DocumentFragment|!Element} hostElement\n * @return {?Element}\n */\nfunction findFocusableElementWithin(hostElement) {\n  // Note that this is 'any focusable area'. This list is probably not exhaustive, but the\n  // alternative involves stepping through and trying to focus everything.\n  var opts = ['button', 'input', 'keygen', 'select', 'textarea'];\n  var query = opts.map(function(el) {\n    return el + ':not([disabled])';\n  });\n  // TODO(samthor): tabindex values that are not numeric are not focusable.\n  query.push('[tabindex]:not([disabled]):not([tabindex=\"\"])');  // tabindex != \"\", not disabled\n  var target = hostElement.querySelector(query.join(', '));\n\n  if (!target && 'attachShadow' in Element.prototype) {\n    // If we haven't found a focusable target, see if the host element contains an element\n    // which has a shadowRoot.\n    // Recursively search for the first focusable item in shadow roots.\n    var elems = hostElement.querySelectorAll('*');\n    for (var i = 0; i < elems.length; i++) {\n      if (elems[i].tagName && elems[i].shadowRoot) {\n        target = findFocusableElementWithin(elems[i].shadowRoot);\n        if (target) {\n          break;\n        }\n      }\n    }\n  }\n  return target;\n}\n\n/**\n * Determines if an element is attached to the DOM.\n * @param {Element} element to check\n * @return {boolean} whether the element is in DOM\n */\nfunction isConnected(element) {\n  return element.isConnected || document.body.contains(element);\n}\n\n/**\n * @param {!Event} event\n * @return {?Element}\n */\nfunction findFormSubmitter(event) {\n  if (event.submitter) {\n    return event.submitter;\n  }\n\n  var form = event.target;\n  if (!(form instanceof HTMLFormElement)) {\n    return null;\n  }\n\n  var submitter = dialogPolyfill.formSubmitter;\n  if (!submitter) {\n    var target = event.target;\n    var root = ('getRootNode' in target && target.getRootNode() || document);\n    submitter = root.activeElement;\n  }\n\n  if (!submitter || submitter.form !== form) {\n    return null;\n  }\n  return submitter;\n}\n\n/**\n * @param {!Event} event\n */\nfunction maybeHandleSubmit(event) {\n  if (event.defaultPrevented) {\n    return;\n  }\n  var form = /** @type {!HTMLFormElement} */ (event.target);\n\n  // We'd have a value if we clicked on an imagemap.\n  var value = dialogPolyfill.imagemapUseValue;\n  var submitter = findFormSubmitter(event);\n  if (value === null && submitter) {\n    value = submitter.value;\n  }\n\n  // There should always be a dialog as this handler is added specifically on them, but check just\n  // in case.\n  var dialog = findNearestDialog(form);\n  if (!dialog) {\n    return;\n  }\n\n  // Prefer formmethod on the button.\n  var formmethod = submitter && submitter.getAttribute('formmethod') || form.getAttribute('method');\n  if (formmethod !== 'dialog') {\n    return;\n  }\n  event.preventDefault();\n\n  if (value != null) {\n    // nb. we explicitly check against null/undefined\n    dialog.close(value);\n  } else {\n    dialog.close();\n  }\n}\n\n/**\n * @param {!HTMLDialogElement} dialog to upgrade\n * @constructor\n */\nfunction dialogPolyfillInfo(dialog) {\n  this.dialog_ = dialog;\n  this.replacedStyleTop_ = false;\n  this.openAsModal_ = false;\n\n  // Set a11y role. Browsers that support dialog implicitly know this already.\n  if (!dialog.hasAttribute('role')) {\n    dialog.setAttribute('role', 'dialog');\n  }\n\n  dialog.show = this.show.bind(this);\n  dialog.showModal = this.showModal.bind(this);\n  dialog.close = this.close.bind(this);\n\n  dialog.addEventListener('submit', maybeHandleSubmit, false);\n\n  if (!('returnValue' in dialog)) {\n    dialog.returnValue = '';\n  }\n\n  if ('MutationObserver' in window) {\n    var mo = new MutationObserver(this.maybeHideModal.bind(this));\n    mo.observe(dialog, {attributes: true, attributeFilter: ['open']});\n  } else {\n    // IE10 and below support. Note that DOMNodeRemoved etc fire _before_ removal. They also\n    // seem to fire even if the element was removed as part of a parent removal. Use the removed\n    // events to force downgrade (useful if removed/immediately added).\n    var removed = false;\n    var cb = function() {\n      removed ? this.downgradeModal() : this.maybeHideModal();\n      removed = false;\n    }.bind(this);\n    var timeout;\n    var delayModel = function(ev) {\n      if (ev.target !== dialog) { return; }  // not for a child element\n      var cand = 'DOMNodeRemoved';\n      removed |= (ev.type.substr(0, cand.length) === cand);\n      window.clearTimeout(timeout);\n      timeout = window.setTimeout(cb, 0);\n    };\n    ['DOMAttrModified', 'DOMNodeRemoved', 'DOMNodeRemovedFromDocument'].forEach(function(name) {\n      dialog.addEventListener(name, delayModel);\n    });\n  }\n  // Note that the DOM is observed inside DialogManager while any dialog\n  // is being displayed as a modal, to catch modal removal from the DOM.\n\n  Object.defineProperty(dialog, 'open', {\n    set: this.setOpen.bind(this),\n    get: dialog.hasAttribute.bind(dialog, 'open')\n  });\n\n  this.backdrop_ = document.createElement('div');\n  this.backdrop_.className = 'backdrop';\n  this.backdrop_.addEventListener('mouseup'  , this.backdropMouseEvent_.bind(this));\n  this.backdrop_.addEventListener('mousedown', this.backdropMouseEvent_.bind(this));\n  this.backdrop_.addEventListener('click'    , this.backdropMouseEvent_.bind(this));\n}\n\ndialogPolyfillInfo.prototype = /** @type {HTMLDialogElement.prototype} */ ({\n\n  get dialog() {\n    return this.dialog_;\n  },\n\n  /**\n   * Maybe remove this dialog from the modal top layer. This is called when\n   * a modal dialog may no longer be tenable, e.g., when the dialog is no\n   * longer open or is no longer part of the DOM.\n   */\n  maybeHideModal: function() {\n    if (this.dialog_.hasAttribute('open') && isConnected(this.dialog_)) { return; }\n    this.downgradeModal();\n  },\n\n  /**\n   * Remove this dialog from the modal top layer, leaving it as a non-modal.\n   */\n  downgradeModal: function() {\n    if (!this.openAsModal_) { return; }\n    this.openAsModal_ = false;\n    this.dialog_.style.zIndex = '';\n\n    // This won't match the native <dialog> exactly because if the user set top on a centered\n    // polyfill dialog, that top gets thrown away when the dialog is closed. Not sure it's\n    // possible to polyfill this perfectly.\n    if (this.replacedStyleTop_) {\n      this.dialog_.style.top = '';\n      this.replacedStyleTop_ = false;\n    }\n\n    // Clear the backdrop and remove from the manager.\n    this.backdrop_.parentNode && this.backdrop_.parentNode.removeChild(this.backdrop_);\n    dialogPolyfill.dm.removeDialog(this);\n  },\n\n  /**\n   * @param {boolean} value whether to open or close this dialog\n   */\n  setOpen: function(value) {\n    if (value) {\n      this.dialog_.hasAttribute('open') || this.dialog_.setAttribute('open', '');\n    } else {\n      this.dialog_.removeAttribute('open');\n      this.maybeHideModal();  // nb. redundant with MutationObserver\n    }\n  },\n\n  /**\n   * Handles mouse events ('mouseup', 'mousedown', 'click') on the fake .backdrop element, redirecting them as if\n   * they were on the dialog itself.\n   *\n   * @param {!Event} e to redirect\n   */\n  backdropMouseEvent_: function(e) {\n    if (!this.dialog_.hasAttribute('tabindex')) {\n      // Clicking on the backdrop should move the implicit cursor, even if dialog cannot be\n      // focused. Create a fake thing to focus on. If the backdrop was _before_ the dialog, this\n      // would not be needed - clicks would move the implicit cursor there.\n      var fake = document.createElement('div');\n      this.dialog_.insertBefore(fake, this.dialog_.firstChild);\n      fake.tabIndex = -1;\n      fake.focus();\n      this.dialog_.removeChild(fake);\n    } else {\n      this.dialog_.focus();\n    }\n\n    var redirectedEvent = document.createEvent('MouseEvents');\n    redirectedEvent.initMouseEvent(e.type, e.bubbles, e.cancelable, window,\n        e.detail, e.screenX, e.screenY, e.clientX, e.clientY, e.ctrlKey,\n        e.altKey, e.shiftKey, e.metaKey, e.button, e.relatedTarget);\n    this.dialog_.dispatchEvent(redirectedEvent);\n    e.stopPropagation();\n  },\n\n  /**\n   * Focuses on the first focusable element within the dialog. This will always blur the current\n   * focus, even if nothing within the dialog is found.\n   */\n  focus_: function() {\n    // Find element with `autofocus` attribute, or fall back to the first form/tabindex control.\n    var target = this.dialog_.querySelector('[autofocus]:not([disabled])');\n    if (!target && this.dialog_.tabIndex >= 0) {\n      target = this.dialog_;\n    }\n    if (!target) {\n      target = findFocusableElementWithin(this.dialog_);\n    }\n    safeBlur(document.activeElement);\n    target && target.focus();\n  },\n\n  /**\n   * Sets the zIndex for the backdrop and dialog.\n   *\n   * @param {number} dialogZ\n   * @param {number} backdropZ\n   */\n  updateZIndex: function(dialogZ, backdropZ) {\n    if (dialogZ < backdropZ) {\n      throw new Error('dialogZ should never be < backdropZ');\n    }\n    this.dialog_.style.zIndex = dialogZ;\n    this.backdrop_.style.zIndex = backdropZ;\n  },\n\n  /**\n   * Shows the dialog. If the dialog is already open, this does nothing.\n   */\n  show: function() {\n    if (!this.dialog_.open) {\n      this.setOpen(true);\n      this.focus_();\n    }\n  },\n\n  /**\n   * Show this dialog modally.\n   */\n  showModal: function() {\n    if (this.dialog_.hasAttribute('open')) {\n      throw new Error('Failed to execute \\'showModal\\' on dialog: The element is already open, and therefore cannot be opened modally.');\n    }\n    if (!isConnected(this.dialog_)) {\n      throw new Error('Failed to execute \\'showModal\\' on dialog: The element is not in a Document.');\n    }\n    if (!dialogPolyfill.dm.pushDialog(this)) {\n      throw new Error('Failed to execute \\'showModal\\' on dialog: There are too many open modal dialogs.');\n    }\n\n    if (createsStackingContext(this.dialog_.parentElement)) {\n      console.warn('A dialog is being shown inside a stacking context. ' +\n          'This may cause it to be unusable. For more information, see this link: ' +\n          'https://github.com/GoogleChrome/dialog-polyfill/#stacking-context');\n    }\n\n    this.setOpen(true);\n    this.openAsModal_ = true;\n\n    // Optionally center vertically, relative to the current viewport.\n    if (dialogPolyfill.needsCentering(this.dialog_)) {\n      dialogPolyfill.reposition(this.dialog_);\n      this.replacedStyleTop_ = true;\n    } else {\n      this.replacedStyleTop_ = false;\n    }\n\n    // Insert backdrop.\n    this.dialog_.parentNode.insertBefore(this.backdrop_, this.dialog_.nextSibling);\n\n    // Focus on whatever inside the dialog.\n    this.focus_();\n  },\n\n  /**\n   * Closes this HTMLDialogElement. This is optional vs clearing the open\n   * attribute, however this fires a 'close' event.\n   *\n   * @param {string=} opt_returnValue to use as the returnValue\n   */\n  close: function(opt_returnValue) {\n    if (!this.dialog_.hasAttribute('open')) {\n      throw new Error('Failed to execute \\'close\\' on dialog: The element does not have an \\'open\\' attribute, and therefore cannot be closed.');\n    }\n    this.setOpen(false);\n\n    // Leave returnValue untouched in case it was set directly on the element\n    if (opt_returnValue !== undefined) {\n      this.dialog_.returnValue = opt_returnValue;\n    }\n\n    // Triggering \"close\" event for any attached listeners on the <dialog>.\n    var closeEvent = new supportCustomEvent('close', {\n      bubbles: false,\n      cancelable: false\n    });\n    safeDispatchEvent(this.dialog_, closeEvent);\n  }\n\n});\n\nvar dialogPolyfill = {};\n\ndialogPolyfill.reposition = function(element) {\n  var scrollTop = document.body.scrollTop || document.documentElement.scrollTop;\n  var topValue = scrollTop + (window.innerHeight - element.offsetHeight) / 2;\n  element.style.top = Math.max(scrollTop, topValue) + 'px';\n};\n\ndialogPolyfill.isInlinePositionSetByStylesheet = function(element) {\n  for (var i = 0; i < document.styleSheets.length; ++i) {\n    var styleSheet = document.styleSheets[i];\n    var cssRules = null;\n    // Some browsers throw on cssRules.\n    try {\n      cssRules = styleSheet.cssRules;\n    } catch (e) {}\n    if (!cssRules) { continue; }\n    for (var j = 0; j < cssRules.length; ++j) {\n      var rule = cssRules[j];\n      var selectedNodes = null;\n      // Ignore errors on invalid selector texts.\n      try {\n        selectedNodes = document.querySelectorAll(rule.selectorText);\n      } catch(e) {}\n      if (!selectedNodes || !inNodeList(selectedNodes, element)) {\n        continue;\n      }\n      var cssTop = rule.style.getPropertyValue('top');\n      var cssBottom = rule.style.getPropertyValue('bottom');\n      if ((cssTop && cssTop !== 'auto') || (cssBottom && cssBottom !== 'auto')) {\n        return true;\n      }\n    }\n  }\n  return false;\n};\n\ndialogPolyfill.needsCentering = function(dialog) {\n  var computedStyle = window.getComputedStyle(dialog);\n  if (computedStyle.position !== 'absolute') {\n    return false;\n  }\n\n  // We must determine whether the top/bottom specified value is non-auto.  In\n  // WebKit/Blink, checking computedStyle.top == 'auto' is sufficient, but\n  // Firefox returns the used value. So we do this crazy thing instead: check\n  // the inline style and then go through CSS rules.\n  if ((dialog.style.top !== 'auto' && dialog.style.top !== '') ||\n      (dialog.style.bottom !== 'auto' && dialog.style.bottom !== '')) {\n    return false;\n  }\n  return !dialogPolyfill.isInlinePositionSetByStylesheet(dialog);\n};\n\n/**\n * @param {!Element} element to force upgrade\n */\ndialogPolyfill.forceRegisterDialog = function(element) {\n  if (window.HTMLDialogElement || element.showModal) {\n    console.warn('This browser already supports <dialog>, the polyfill ' +\n        'may not work correctly', element);\n  }\n  if (element.localName !== 'dialog') {\n    throw new Error('Failed to register dialog: The element is not a dialog.');\n  }\n  new dialogPolyfillInfo(/** @type {!HTMLDialogElement} */ (element));\n};\n\n/**\n * @param {!Element} element to upgrade, if necessary\n */\ndialogPolyfill.registerDialog = function(element) {\n  if (!element.showModal) {\n    dialogPolyfill.forceRegisterDialog(element);\n  }\n};\n\n/**\n * @constructor\n */\ndialogPolyfill.DialogManager = function() {\n  /** @type {!Array<!dialogPolyfillInfo>} */\n  this.pendingDialogStack = [];\n\n  var checkDOM = this.checkDOM_.bind(this);\n\n  // The overlay is used to simulate how a modal dialog blocks the document.\n  // The blocking dialog is positioned on top of the overlay, and the rest of\n  // the dialogs on the pending dialog stack are positioned below it. In the\n  // actual implementation, the modal dialog stacking is controlled by the\n  // top layer, where z-index has no effect.\n  this.overlay = document.createElement('div');\n  this.overlay.className = '_dialog_overlay';\n  this.overlay.addEventListener('click', function(e) {\n    this.forwardTab_ = undefined;\n    e.stopPropagation();\n    checkDOM([]);  // sanity-check DOM\n  }.bind(this));\n\n  this.handleKey_ = this.handleKey_.bind(this);\n  this.handleFocus_ = this.handleFocus_.bind(this);\n\n  this.zIndexLow_ = 100000;\n  this.zIndexHigh_ = 100000 + 150;\n\n  this.forwardTab_ = undefined;\n\n  if ('MutationObserver' in window) {\n    this.mo_ = new MutationObserver(function(records) {\n      var removed = [];\n      records.forEach(function(rec) {\n        for (var i = 0, c; c = rec.removedNodes[i]; ++i) {\n          if (!(c instanceof Element)) {\n            continue;\n          } else if (c.localName === 'dialog') {\n            removed.push(c);\n          }\n          removed = removed.concat(c.querySelectorAll('dialog'));\n        }\n      });\n      removed.length && checkDOM(removed);\n    });\n  }\n};\n\n/**\n * Called on the first modal dialog being shown. Adds the overlay and related\n * handlers.\n */\ndialogPolyfill.DialogManager.prototype.blockDocument = function() {\n  document.documentElement.addEventListener('focus', this.handleFocus_, true);\n  document.addEventListener('keydown', this.handleKey_);\n  this.mo_ && this.mo_.observe(document, {childList: true, subtree: true});\n};\n\n/**\n * Called on the first modal dialog being removed, i.e., when no more modal\n * dialogs are visible.\n */\ndialogPolyfill.DialogManager.prototype.unblockDocument = function() {\n  document.documentElement.removeEventListener('focus', this.handleFocus_, true);\n  document.removeEventListener('keydown', this.handleKey_);\n  this.mo_ && this.mo_.disconnect();\n};\n\n/**\n * Updates the stacking of all known dialogs.\n */\ndialogPolyfill.DialogManager.prototype.updateStacking = function() {\n  var zIndex = this.zIndexHigh_;\n\n  for (var i = 0, dpi; dpi = this.pendingDialogStack[i]; ++i) {\n    dpi.updateZIndex(--zIndex, --zIndex);\n    if (i === 0) {\n      this.overlay.style.zIndex = --zIndex;\n    }\n  }\n\n  // Make the overlay a sibling of the dialog itself.\n  var last = this.pendingDialogStack[0];\n  if (last) {\n    var p = last.dialog.parentNode || document.body;\n    p.appendChild(this.overlay);\n  } else if (this.overlay.parentNode) {\n    this.overlay.parentNode.removeChild(this.overlay);\n  }\n};\n\n/**\n * @param {Element} candidate to check if contained or is the top-most modal dialog\n * @return {boolean} whether candidate is contained in top dialog\n */\ndialogPolyfill.DialogManager.prototype.containedByTopDialog_ = function(candidate) {\n  while (candidate = findNearestDialog(candidate)) {\n    for (var i = 0, dpi; dpi = this.pendingDialogStack[i]; ++i) {\n      if (dpi.dialog === candidate) {\n        return i === 0;  // only valid if top-most\n      }\n    }\n    candidate = candidate.parentElement;\n  }\n  return false;\n};\n\ndialogPolyfill.DialogManager.prototype.handleFocus_ = function(event) {\n  var target = event.composedPath ? event.composedPath()[0] : event.target;\n\n  if (this.containedByTopDialog_(target)) { return; }\n\n  if (document.activeElement === document.documentElement) { return; }\n\n  event.preventDefault();\n  event.stopPropagation();\n  safeBlur(/** @type {Element} */ (target));\n\n  if (this.forwardTab_ === undefined) { return; }  // move focus only from a tab key\n\n  var dpi = this.pendingDialogStack[0];\n  var dialog = dpi.dialog;\n  var position = dialog.compareDocumentPosition(target);\n  if (position & Node.DOCUMENT_POSITION_PRECEDING) {\n    if (this.forwardTab_) {\n      // forward\n      dpi.focus_();\n    } else if (target !== document.documentElement) {\n      // backwards if we're not already focused on <html>\n      document.documentElement.focus();\n    }\n  }\n\n  return false;\n};\n\ndialogPolyfill.DialogManager.prototype.handleKey_ = function(event) {\n  this.forwardTab_ = undefined;\n  if (event.keyCode === 27) {\n    event.preventDefault();\n    event.stopPropagation();\n    var cancelEvent = new supportCustomEvent('cancel', {\n      bubbles: false,\n      cancelable: true\n    });\n    var dpi = this.pendingDialogStack[0];\n    if (dpi && safeDispatchEvent(dpi.dialog, cancelEvent)) {\n      dpi.dialog.close();\n    }\n  } else if (event.keyCode === 9) {\n    this.forwardTab_ = !event.shiftKey;\n  }\n};\n\n/**\n * Finds and downgrades any known modal dialogs that are no longer displayed. Dialogs that are\n * removed and immediately readded don't stay modal, they become normal.\n *\n * @param {!Array<!HTMLDialogElement>} removed that have definitely been removed\n */\ndialogPolyfill.DialogManager.prototype.checkDOM_ = function(removed) {\n  // This operates on a clone because it may cause it to change. Each change also calls\n  // updateStacking, which only actually needs to happen once. But who removes many modal dialogs\n  // at a time?!\n  var clone = this.pendingDialogStack.slice();\n  clone.forEach(function(dpi) {\n    if (removed.indexOf(dpi.dialog) !== -1) {\n      dpi.downgradeModal();\n    } else {\n      dpi.maybeHideModal();\n    }\n  });\n};\n\n/**\n * @param {!dialogPolyfillInfo} dpi\n * @return {boolean} whether the dialog was allowed\n */\ndialogPolyfill.DialogManager.prototype.pushDialog = function(dpi) {\n  var allowed = (this.zIndexHigh_ - this.zIndexLow_) / 2 - 1;\n  if (this.pendingDialogStack.length >= allowed) {\n    return false;\n  }\n  if (this.pendingDialogStack.unshift(dpi) === 1) {\n    this.blockDocument();\n  }\n  this.updateStacking();\n  return true;\n};\n\n/**\n * @param {!dialogPolyfillInfo} dpi\n */\ndialogPolyfill.DialogManager.prototype.removeDialog = function(dpi) {\n  var index = this.pendingDialogStack.indexOf(dpi);\n  if (index === -1) { return; }\n\n  this.pendingDialogStack.splice(index, 1);\n  if (this.pendingDialogStack.length === 0) {\n    this.unblockDocument();\n  }\n  this.updateStacking();\n};\n\ndialogPolyfill.dm = new dialogPolyfill.DialogManager();\ndialogPolyfill.formSubmitter = null;\ndialogPolyfill.imagemapUseValue = null;\n\n/**\n * Installs global handlers, such as click listers and native method overrides. These are needed\n * even if a no dialog is registered, as they deal with <form method=\"dialog\">.\n */\nif (window.HTMLDialogElement === undefined) {\n\n  /**\n   * If HTMLFormElement translates method=\"DIALOG\" into 'get', then replace the descriptor with\n   * one that returns the correct value.\n   */\n  var testForm = document.createElement('form');\n  testForm.setAttribute('method', 'dialog');\n  if (testForm.method !== 'dialog') {\n    var methodDescriptor = Object.getOwnPropertyDescriptor(HTMLFormElement.prototype, 'method');\n    if (methodDescriptor) {\n      // nb. Some older iOS and older PhantomJS fail to return the descriptor. Don't do anything\n      // and don't bother to update the element.\n      var realGet = methodDescriptor.get;\n      methodDescriptor.get = function() {\n        if (isFormMethodDialog(this)) {\n          return 'dialog';\n        }\n        return realGet.call(this);\n      };\n      var realSet = methodDescriptor.set;\n      /** @this {HTMLElement} */\n      methodDescriptor.set = function(v) {\n        if (typeof v === 'string' && v.toLowerCase() === 'dialog') {\n          return this.setAttribute('method', v);\n        }\n        return realSet.call(this, v);\n      };\n      Object.defineProperty(HTMLFormElement.prototype, 'method', methodDescriptor);\n    }\n  }\n\n  /**\n   * Global 'click' handler, to capture the <input type=\"submit\"> or <button> element which has\n   * submitted a <form method=\"dialog\">. Needed as Safari and others don't report this inside\n   * document.activeElement.\n   */\n  document.addEventListener('click', function(ev) {\n    dialogPolyfill.formSubmitter = null;\n    dialogPolyfill.imagemapUseValue = null;\n    if (ev.defaultPrevented) { return; }  // e.g. a submit which prevents default submission\n\n    var target = /** @type {Element} */ (ev.target);\n    if ('composedPath' in ev) {\n      var path = ev.composedPath();\n      target = path.shift() || target;\n    }\n    if (!target || !isFormMethodDialog(target.form)) { return; }\n\n    var valid = (target.type === 'submit' && ['button', 'input'].indexOf(target.localName) > -1);\n    if (!valid) {\n      if (!(target.localName === 'input' && target.type === 'image')) { return; }\n      // this is a <input type=\"image\">, which can submit forms\n      dialogPolyfill.imagemapUseValue = ev.offsetX + ',' + ev.offsetY;\n    }\n\n    var dialog = findNearestDialog(target);\n    if (!dialog) { return; }\n\n    dialogPolyfill.formSubmitter = target;\n\n  }, false);\n\n  /**\n   * Global 'submit' handler. This handles submits of `method=\"dialog\"` which are invalid, i.e.,\n   * outside a dialog. They get prevented.\n   */\n  document.addEventListener('submit', function(ev) {\n    var form = ev.target;\n    var dialog = findNearestDialog(form);\n    if (dialog) {\n      return;  // ignore, handle there\n    }\n\n    var submitter = findFormSubmitter(ev);\n    var formmethod = submitter && submitter.getAttribute('formmethod') || form.getAttribute('method');\n    if (formmethod === 'dialog') {\n      ev.preventDefault();\n    }\n  });\n\n  /**\n   * Replace the native HTMLFormElement.submit() method, as it won't fire the\n   * submit event and give us a chance to respond.\n   */\n  var nativeFormSubmit = HTMLFormElement.prototype.submit;\n  var replacementFormSubmit = function () {\n    if (!isFormMethodDialog(this)) {\n      return nativeFormSubmit.call(this);\n    }\n    var dialog = findNearestDialog(this);\n    dialog && dialog.close();\n  };\n  HTMLFormElement.prototype.submit = replacementFormSubmit;\n}\n\nexport default dialogPolyfill;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/dialog-polyfill/dist/dialog-polyfill.esm.js\n// module id = ./node_modules/dialog-polyfill/dist/dialog-polyfill.esm.js\n// module chunks = 0","module.exports = React;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"React\"\n// module id = 0\n// module chunks = 0","module.exports = CraftJsCore;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"CraftJsCore\"\n// module id = 1\n// module chunks = 0","module.exports = Injector;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"Injector\"\n// module id = 2\n// module chunks = 0","module.exports = ReactDom;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ReactDom\"\n// module id = 3\n// module chunks = 0","module.exports = CraftJsUtils;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"CraftJsUtils\"\n// module id = 4\n// module chunks = 0","module.exports = jQuery;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"jQuery\"\n// module id = 5\n// module chunks = 0"],"sourceRoot":""}